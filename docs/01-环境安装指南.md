# nRF52810 å¼€å‘ç¯å¢ƒå®‰è£…æŒ‡å— (macOS)

## ğŸ“‹ æ¦‚è¿°
æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ macOS ç³»ç»Ÿä¸Šæ­å»º nRF52810 & heystack-nrf5x å›ºä»¶å¼€å‘ç¯å¢ƒã€‚

## ğŸ› ï¸ å¿…éœ€å·¥å…·æ¸…å•

### 1. ç³»ç»Ÿè¦æ±‚
- macOS 10.15 æˆ–æ›´é«˜ç‰ˆæœ¬
- è‡³å°‘ 5GB å¯ç”¨ç£ç›˜ç©ºé—´
- ç®¡ç†å‘˜æƒé™

### 2. å¼€å‘å·¥å…·
- **Homebrew**: macOS åŒ…ç®¡ç†å™¨
- **ARM GCC å·¥å…·é“¾**: äº¤å‰ç¼–è¯‘å™¨
- **OpenOCD**: è°ƒè¯•å’Œåˆ·å†™å·¥å…·
- **Git**: ç‰ˆæœ¬æ§åˆ¶
- **Python 3**: è„šæœ¬æ”¯æŒ
- **Make**: æ„å»ºå·¥å…·

## ğŸš€ å®‰è£…æ­¥éª¤

### æ­¥éª¤ 1: å®‰è£… Homebrew
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### æ­¥éª¤ 2: å®‰è£… ARM å·¥å…·é“¾
```bash
brew install --cask gcc-arm-embedded
```

### æ­¥éª¤ 3: å®‰è£…å¼€å‘å·¥å…·
```bash
# OpenOCD è°ƒè¯•å·¥å…·
brew install openocd

# libusb æ”¯æŒ
brew install libusb

# Nordic å‘½ä»¤è¡Œå·¥å…· (åŒ…å« mergehex ç­‰)
brew install --cask nordic-nrf-command-line-tools

# Python hex å¤„ç†å·¥å…·
pip3 install intelhex

# ç¡®ä¿ Git å’Œ Python å·²å®‰è£…
brew install git python3
```

### æ­¥éª¤ 4: éªŒè¯å®‰è£…
```bash
# æ£€æŸ¥å·¥å…·é“¾
which arm-none-eabi-gcc
arm-none-eabi-gcc --version

# æ£€æŸ¥ OpenOCD
which openocd
openocd --version

# æ£€æŸ¥ Nordic å·¥å…·
which mergehex nrfjprog
mergehex --version

# æ£€æŸ¥ Python å·¥å…·
python3 -c "import intelhex; print('intelhex installed successfully')"

# æ£€æŸ¥å…¶ä»–å·¥å…·
which git make python3 xxd
```

## ğŸ“ é¡¹ç›®ç›®å½•è®¾ç½®

### åˆ›å»ºå·¥ä½œç›®å½•
```bash
# åœ¨åˆé€‚çš„ä½ç½®åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p ~/nrf52810_project
cd ~/nrf52810_project

# åˆ›å»ºå­ç›®å½•
mkdir -p nrf-sdk
```

### ç›®å½•ç»“æ„
```
~/nrf52810_project/
â”œâ”€â”€ heystack-nrf5x/           # Git é¡¹ç›®
â”œâ”€â”€ nrf-sdk/                  # nRF5 SDK
â”‚   â””â”€â”€ nRF5_SDK_15.3.0_59ac345/
â”œâ”€â”€ setup_nrf52810.sh         # ç¯å¢ƒæ£€æŸ¥è„šæœ¬
â””â”€â”€ compile_and_flash_2s.sh   # ç¼–è¯‘åˆ·å†™è„šæœ¬
```

## ğŸ”§ ç¯å¢ƒæ£€æŸ¥è„šæœ¬

åˆ›å»º `setup_nrf52810.sh` è„šæœ¬ç”¨äºéªŒè¯ç¯å¢ƒï¼š

```bash
#!/bin/bash
# ç¯å¢ƒæ£€æŸ¥è„šæœ¬å†…å®¹è§é¡¹ç›®æ–‡ä»¶
chmod +x setup_nrf52810.sh
./setup_nrf52810.sh
```

## âš ï¸ å¸¸è§é—®é¢˜

### 1. ARM å·¥å…·é“¾è·¯å¾„é—®é¢˜
å¦‚æœä½¿ç”¨ Homebrew å®‰è£…ï¼Œå·¥å…·é“¾ä½äºï¼š
```
/opt/homebrew/bin/arm-none-eabi-*
```

### 2. M1/M2 Mac æ³¨æ„äº‹é¡¹
- ä½¿ç”¨ ARM64 ç‰ˆæœ¬çš„ Homebrew (`/opt/homebrew/`)
- æŸäº›å·¥å…·å¯èƒ½éœ€è¦é€šè¿‡ Rosetta 2 è¿è¡Œ

### 3. æƒé™é—®é¢˜
```bash
# å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå¯èƒ½éœ€è¦ï¼š
sudo chown -R $(whoami) /opt/homebrew
```

## âœ… éªŒè¯æ¸…å•

å®‰è£…å®Œæˆåï¼Œç¡®ä¿ä»¥ä¸‹å‘½ä»¤éƒ½èƒ½æ­£å¸¸æ‰§è¡Œï¼š

- [ ] `arm-none-eabi-gcc --version`
- [ ] `openocd --version`
- [ ] `mergehex --version`
- [ ] `nrfjprog --version`
- [ ] `python3 -c "import intelhex"`
- [ ] `make --version`
- [ ] `git --version`
- [ ] `python3 --version`
- [ ] `xxd -h`

## ğŸ“ ä¸‹ä¸€æ­¥

ç¯å¢ƒå®‰è£…å®Œæˆåï¼Œè¯·å‚è€ƒï¼š
- `02-é¡¹ç›®é…ç½®æ‰‹å†Œ.md` - é…ç½®é¡¹ç›®å’Œ SDK
- `03-å›ºä»¶ç¼–è¯‘æŒ‡å—.md` - ç¼–è¯‘å›ºä»¶

---
*æœ€åæ›´æ–°: 2024å¹´7æœˆ*
# nRF52810 Web控制台 - 快速开始

## 🚀 启动方法

### 方法1: 分别启动（推荐）

**1. 启动后端服务**
```bash
./start_backend.sh
```
后端会自动找到可用端口（通常是5001-5005）

**2. 启动前端服务**（新开一个终端）
```bash
./start_frontend.sh
```
前端会在端口8080启动

**3. 访问Web界面**
打开浏览器访问: http://localhost:8080

### 方法2: 直接打开HTML文件

如果不想启动HTTP服务器，可以直接用浏览器打开：
```bash
open web/index.html
```
或者双击 `web/index.html` 文件

**注意**: 直接打开HTML文件时，需要修改API地址。在浏览器开发者工具中运行：
```javascript
// 修改API基础URL为实际的后端地址
CONFIG.API_BASE_URL = 'http://localhost:5002/api';  // 替换为实际端口
```

## 🔧 使用功能

### 自动刷写（最简单）
1. 点击"自动刷写"按钮
2. 按照提示操作
3. 系统会自动完成所有步骤

### 手动密钥创建工作流
1. 在"手动密钥创建工作流"区域
2. 按步骤执行：
   - 步骤1: 输入设备名称（如DEV001），生成密钥
   - 步骤2: 添加密钥标记
   - 步骤3: 检查设备连接
   - 步骤4: 选择芯片类型，编译和刷写固件

### 脚本管理
1. 在"脚本管理"区域查看所有可用脚本
2. 点击脚本卡片配置参数
3. 点击"执行"按钮运行脚本
4. 在日志区域查看实时输出

## 🛠️ 故障排除

### 后端服务无法启动
1. 检查Python依赖：`pip3 install flask flask-cors`
2. 手动指定端口：修改 `web/backend/app.py` 最后的端口号

### 前端无法访问后端
1. 确认后端服务已启动并显示端口号
2. 修改前端API地址：编辑 `web/script_improved.js` 中的 `API_BASE_URL`

### 设备连接失败
1. 检查硬件连接
2. 确认调试器驱动已安装
3. 尝试运行芯片恢复功能

## 📋 支持的芯片

- **nRF52810**: 主要支持的芯片
- **nRF51822**: 兼容支持

## 🔑 密钥创建流程

1. **生成密钥**: 使用 `generate_device_keys.sh`
2. **添加标记**: 使用 `add_marker_interactive.sh`
3. **检查连接**: 使用 openocd 检查硬件
4. **编译刷写**: 根据芯片类型执行相应的make命令

## 💡 提示

- 设备名称必须是6个字符（字母和数字）
- 建议先运行"环境检查"确保开发环境正常
- 所有操作都会在日志区域显示详细输出
- 可以随时取消正在运行的脚本